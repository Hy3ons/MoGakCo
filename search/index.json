[{"content":"í•˜ê³„ ëª¨ê°ì½” 02 - ëª©í‘œ ì´ë²ˆ ëª¨ê°ì½” ì‹œê°„ì—ëŠ”, udemy spring ê°•ì˜ì˜ 143 ë²ˆì§¸ ê°•ì˜ë¶€í„° 150ë¶„ê°„ ê°•ì˜ë¥¼ ë“£ê³  ê³µë¶€í•œ ë‚´ìš©ê³¼ ê¶ê¸ˆí•œ ë¶€ë¶„ ë”°ë¡œ ì•Œì•„ë¶„ ë¶€ë¶„ë“¤ì— ëŒ€í•´ì„œ ì¶”ê°€ì ìœ¼ë¡œ ì ì–´ë³¼ ì˜ˆì •ì…ë‹ˆë‹¤.\nëŒ€ì²´ë¡œ ê°•ì˜ ë‚´ìš©ì€, JPAì™€ Hibernates ë¥¼ ë‹¤ë£¨ë©°, REST APIë¥¼ ë§Œë“¤ì–´ ë³´ëŠ” ì˜ìƒì´ë©°, ì¶”ê°€ë¡œ ì—ëŸ¬ í•¸ë“¤ë§ê³¼, Spring Securityë“±ì´ ìˆìŠµë‹ˆë‹¤.\nì˜¤ëŠ˜ì˜ ëª©í‘œ ê°•ì˜ ëª©ë¡ ëª¨ë“  ë¦¬ì†ŒìŠ¤ì— ëŒ€í•œ ì˜ˆì™¸ ì²˜ë¦¬ êµ¬í˜„ DELETE ë©”ì†Œë“œë¡œ ì‚¬ìš©ì ë¦¬ì†ŒìŠ¤ ì‚­ì œ REST APIì—ì„œ ìœ íš¨ì„± ê²€ì¦ ì ìš© ê³ ê¸‰ REST API ê¸°ëŠ¥ ê°œìš” íŒŒì•… Open API ì‚¬ì–‘ ë° Swagger ì´í•´ springdoc-openapi ì˜ì¡´ì„± ì¶”ê°€ ë° Swagger ë¬¸ì„œ ìë™ ìƒì„± êµ¬ì„± ì½˜í…ì¸  í˜‘ìƒ ë° XML ì§€ì› êµ¬í˜„ REST APIì˜ êµ­ì œí™”(i18n) ì ìš© REST API ë²„ì „ ê´€ë¦¬ (URI, ìš”ì²­ ë§¤ê°œë³€ìˆ˜, í—¤ë”, ì½˜í…ì¸  í˜‘ìƒ ë°©ì‹) ì§§ì€ ì‹œê°„ ë™ì•ˆ ì—¬ëŸ¬ ì£¼ì œë¥¼ ë‹¤ë£¨ê² ì§€ë§Œ, ê° ë‹¨ê³„ë³„ë¡œ í•µì‹¬ë§Œ ì •ë¦¬í•´ë³´ëŠ” ê²ƒì´ ì˜¤ëŠ˜ì˜ ëª©í‘œì…ë‹ˆë‹¤.\ní•˜ê³„ ëª¨ê°ì½” 02 - ê²°ê³¼ ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ - @ControllerAdvice + ExceptionHandler 1 2 3 4 5 6 7 8 9 @ControllerAdvice public class CustomizedResponseEntityExceptionHandler extends ResponseEntityExceptionHandler { @ExceptionHandler(Exception.class) public final ResponseEntity\u0026lt;Object\u0026gt; handleAllException(Exception ex, WebRequest request) { ErrorDetails errorDetails = new ErrorDetails(LocalDateTime.now(), ex.getMessage(), request.getDescription(false)); return new ResponseEntity\u0026lt;\u0026gt;(errorDetails, HttpStatus.INTERNAL_SERVER_ERROR); } } ì˜ˆì™¸ì— ê´€í•œ ë‚´ìš©ì´ë‹¤. ì´ëŸ°ì‹ìœ¼ë¡œ, @ExceptionHandlerì™€ ê´€ë ¨ëœ @ControllerAdvice ì• ë„ˆí…Œì´ì…˜ìœ¼ë¡œ Beanì„ ë“±ë¡í•´ì£¼ê³ , ìƒì†ë°›ì€ ë©”ì„œë“œì™€ ìƒˆë¡­ê²Œ ì •ì˜ëœ ë‚´ë¶€ ExceptionHandlerë¥¼ í†µí•´ ì—ëŸ¬ë¥¼ ë‹¤ë£° ìˆ˜ ìˆë‹¤.\nResponseEntityExceptionHandlerë¥¼ ìƒì†í•˜ëŠ” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.\n@ControllerAdviceëŠ” Springì˜ ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ìì´ë‹¤. ê·¸ë˜ì„œ ìƒì†í•˜ì§€ ì•Šìœ¼ë©´, @Valid, @RequestBody ë“±ì˜ ì—ëŸ¬ëŠ” InternalServerErrorë¡œ ì²˜ë¦¬ë  ìˆ˜ ìˆë‹¤.\nResponseEntityExceptionHandlerì— ê¸°ë³¸ì ìœ¼ë¡œ ì •ì˜ë˜ì–´ ìˆëŠ” ë©”ì„œë“œë“¤,\nhandleMethodArgumentNotValidë‚˜, handleHttpMessageNotReadable ê°™ì€ ê¸°ë³¸ì ì¸ ì˜¤ë¥˜ ì²˜ë¦¬ ë¡œì§ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\nìš°ë¦¬ê°€ ì „ì—­ ì˜ˆì™¸ ì²˜ë¦¬ìë¥¼ ìƒˆë¡­ê²Œ ë“±ë¡í•˜ë©´, Springì—ì„œëŠ” ê¸°ë³¸ ì˜ˆì™¸ ì²˜ë¦¬ ë¡œì§ì„ ì§€ì› ì¤‘ë‹¨í•˜ê¸° ë•Œë¬¸ì—, ê¸°ì¡´ ê²ƒì„ ëª¨ë‘ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ìƒì†ì„ ë°›ì•„ì•¼ í•œë‹¤.\nì €ëŸ°ì‹ìœ¼ë¡œ ë¦¬í„´ì„ í•˜ë©´, errorDetailsë¼ëŠ” ê°ì²´ê°€ JSON, stringify ë˜ì–´ responseë¡œ ë‚ ì•„ê°„ë‹¤.\nì˜ˆì™¸ë¥¼ ì‰½ê²Œ clientì— ì „ì—­ì ìœ¼ë¡œ ì²˜ë¦¬í•  ìˆ˜ ìˆê²Œ ë˜ëŠ” ì…ˆì´ë‹¤.\nìœ íš¨ì„± ê²€ì¦ - @Valid + Jakarta Validation ê° íŒŒë¼ë¯¸í„°ì˜ ìœ íš¨ì„± ê²€ì¦ì€ íŒŒë¼ë¯¸í„° ì•ì— @Valid ì• ë„ˆí…Œì´ì…˜ì„ ë‹¤ëŠ” ê²ƒìœ¼ë¡œ ë°°ì› ì—ˆë‹¤.\ní•˜ì§€ë§Œ ì´ê²ƒì€ @ResponseBodyë¡œ ê°ì²´ íƒ€ì…ì´ íŒŒë¼ë¯¸í„°ë¡œ ì£¼ì–´ì ¸ë„ @Validë¡œ ìœ íš¨ì„± ê²€ì¦ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 @PostMapping(\u0026#34;/users\u0026#34;) public ResponseEntity\u0026lt;User\u0026gt; createUser(@Valid @RequestBody User user) { User savedUser = userRepository.save(user); return ResponseEntity.ok(savedUser); } ì´ëŸ°ì‹ìœ¼ë¡œ @Validë¥¼ ë„£ì–´ì£¼ê³ ,\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 @Entity(name = \u0026#34;users\u0026#34;) public class User { @Id @GeneratedValue(strategy = GenerationType.AUTO) private int id; @Size(min = 2, message = \u0026#34;ì´ë¦„ì€ ì ì–´ë„ 2ê¸€ì ì´ìƒ ë„£ì–´ì£¼ì„¸ìš”.\u0026#34;) private String name; @Past(message = \u0026#34;ë¯¸ë˜ëŠ” ìƒì¼ë¡œ ì§€ì • í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\u0026#34;) private LocalDate birthdate; private Integer solver; } ê²€ì¦í•  ê° ê°ì²´ì˜ ë©¤ë²„ì— Jakarta í˜•ì‹ì˜ ê²€ì¦ ì• ë„ˆí…Œì´ì…˜ì„ ë„£ìœ¼ë©´ ëœë‹¤.\nì „ì—­ì ìœ¼ë¡œ @Valid ì˜¤ë¥˜ëŠ” ê·¸ ì›ì¸ì„ í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ê¸°ë³¸ì ìœ¼ë¡œ ì „ë‹¬í•˜ì§€ ì•ŠëŠ”ë‹¤.\n1 2 3 4 5 6 7 8 @Override protected ResponseEntity\u0026lt;Object\u0026gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request) { ErrorDetails er = new ErrorDetails(LocalDateTime.now(), ex.getMessage(), request.getDescription(false)); return new ResponseEntity\u0026amp;lt;\u0026amp;gt;(er, HttpStatus.BAD_REQUEST); } ì´ëŸ°ì‹ìœ¼ë¡œ ResponseEntityExceptionHandlerì˜ ë©”ì„œë“œë¥¼ ì˜¤ë²„ë¼ì´ë”©í•˜ì—¬ ì—ëŸ¬ ì²˜ë¦¬ ì‹œ client ì—ê²Œ ëŒì•„ê°€ëŠ” ë‚´ìš©ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 11 12 @Override protected ResponseEntity\u0026lt;Object\u0026gt; handleMethodArgumentNotValid(MethodArgumentNotValidException ex, HttpHeaders headers, HttpStatusCode status, WebRequest request) { ErrorDetails er = new ErrorDetails(LocalDateTime.now(), ex.getFieldErrors().stream() .map(fieldError -\u0026gt; fieldError.getDefaultMessage()) .collect(Collectors.joining(\u0026#34;, \u0026#34;)), request.getDescription(false)); return new ResponseEntity\u0026lt;\u0026gt;(er, HttpStatus.BAD_REQUEST); } Swaggerë¥¼ ì´ìš©í•œ ë¬¸ì„œ ìë™í™” Swagger ì ìš©ì€ ë§¤ìš° ê°„ë‹¨í–ˆë‹¤. ì˜ì¡´ì„± ì¶”ê°€ë§Œìœ¼ë¡œ ì ìš©ë˜ë©°, input schemaë¥¼ ëŒ€ì¶© ì§€ì •í•´ë„ ì•Œì•„ì„œ ì˜ ë§¤í•‘í•´ì¤€ë‹¤.\n1 2 3 4 \u0026lt;dependency\u0026gt; \u0026lt;groupId\u0026gt;com.fasterxml.jackson.dataformat\u0026lt;/groupId\u0026gt; \u0026lt;artifactId\u0026gt;jackson-dataformat-xml\u0026lt;/artifactId\u0026gt; \u0026lt;/dependency\u0026gt; ì´ëŸ¬í•œ ì¢…ì†ì„± ì¶”ê°€ë¥¼ í†µí•´, clientì˜ headerì— \u0026ldquo;accept\u0026rdquo; : \u0026ldquo;application/xml\u0026quot;ì„ ë„£ìœ¼ë©´\nìë™ìœ¼ë¡œ ë°˜í™˜í•˜ëŠ” ì½˜í…ì¸ ì˜ ë°˜í™˜ í˜•ì‹ì„ ì œê³µí•  ìˆ˜ ìˆë‹¤.\nSwaggerì™€ XMLì€ ë¬¸ì„œ ì¶©ëŒì„ ì¼ìœ¼í‚¬ ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•˜ì.\nêµ­ì œí™” (i18n) ì§€ì› resources í´ë”ì— messages_{tag}.properties íŒŒì¼ë“¤ì„ ë§Œë“¤ì–´ ë‹¤êµ­ì–´ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 @GetMapping(path=\u0026#34;/hello-world-i18n\u0026#34;) public String hel() { Locale locale = LocaleContextHolder.getLocale(); return messageSource.getMessage(\u0026#34;good.morrning.message\u0026#34;, null, \u0026#34;default\u0026#34;, locale); } LocaleContextHolder.getLocale()ì„ í†µí•´ í˜„ì¬ ìš”ì²­ì˜ localeì„ ì¶”ì¶œí•˜ê³ ,\nê·¸ì— ë§ëŠ” ë©”ì‹œì§€ë¥¼ ë¦¬í„´í•´ì¤€ë‹¤.\nAPI ë²„ì „ ì „ëµ URI ë²„ì „ ë°©ì‹ (Twitter ìŠ¤íƒ€ì¼) 1 2 GET /v1/users GET /v2/users ìš”ì²­ íŒŒë¼ë¯¸í„° ë°©ì‹ (Amazon ìŠ¤íƒ€ì¼) 1 2 GET /users?version=1 GET /users?version=2 Header ë°©ì‹ (Microsoft ìŠ¤íƒ€ì¼) 1 2 Header: API_VERSION=1 Header: API_VERSION=2 APIì˜ request/response DTOì— ë³€í™”ê°€ ìƒê¸°ë”ë¼ë„ ê¸°ì¡´ consumerë“¤ì„ ë³´í˜¸í•  ìˆ˜ ìˆëŠ” ì¢‹ì€ ì „ëµì´ë‹¤.\n","date":"2025-07-27T21:20:00+09:00","image":"https://hy3ons.github.io/MoGakCo/p/2025-01-mogakco-2/cover_hu_ae58cfd9ceaaf6cf.png","permalink":"https://hy3ons.github.io/MoGakCo/p/2025-01-mogakco-2/","title":"í•˜ê³„ ëª¨ê°ì½” 02"},{"content":"í•˜ê³„ ëª¨ê°ì½” 01 - ëª©í‘œ ì´ë²ˆ ëª¨ê°ì½” ì‹œê°„ì—ëŠ” ìœ ë°ë¯¸ ê°•ì˜ë¥¼ ë“¤ìœ¼ë©°, Spring Bootì™€ JPA, Hibernate, Spring JDBC ë“± ë‹¤ì–‘í•œ ì£¼ì œë¥¼ ê³µë¶€í•  ì˜ˆì •ì…ë‹ˆë‹¤.\níŠ¹íˆ, í”„ë¡œë•ì…˜ í™˜ê²½ ë°°í¬ ì¤€ë¹„, Actuator, Spring MVC, JPAì™€ Hibernate, H2 ì½˜ì†”, Spring JDBC ë“± ì—¬ëŸ¬ ë‚´ìš©ì„ ì£¼ì œë¡œ í•˜ëŠ” ì˜ìƒì„ ì‹œì²­ í•  ì˜ˆì •ì…ë‹ˆë‹¤.\nì €ëŠ” ëª¨ê°ì½” ì‹œê°„ì—ë§Œ ê³µë¶€í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤ ë³´ë‹ˆ, ê·¸ë•Œê·¸ë•Œ ê´€ì‹¬ì‚¬ë‚˜ ê³µë¶€ì˜ ì§„ë„, í•„ìš”ì— ë”°ë¼ ì£¼ì œê°€ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\nì´ë²ˆ ì‹œê°„ì—ëŠ” ì•„ë˜ì™€ ê°™ì€ ê°•ì˜ë“¤ì„ ëª©í‘œë¡œ ì‚¼ê³ , ê° ë‹¨ê³„ë³„ë¡œ ì§§ê²Œë¼ë„ ì •ë¦¬í•´ë³´ë ¤ í•©ë‹ˆë‹¤.\nì˜¤ëŠ˜ì˜ ëª©í‘œ ê°•ì˜ ëª©ë¡ Spring Bootë¡œ í”„ë¡œë•ì…˜ í™˜ê²½ ë°°í¬ ì¤€ë¹„í•˜ê¸° (Embedded Server, Actuator) Spring Boot, Spring, Spring MVC ì´í•´í•˜ê¸° Spring Boot ì‹œì‘í•˜ê¸° - ë³µìŠµ JPAì™€ Hibernate ì‹œì‘í•˜ê¸° ë° ìƒˆ í”„ë¡œì íŠ¸ ì„¤ì • H2 ì½˜ì†” ì‹¤í–‰ ë° ê³¼ì • í…Œì´ë¸” ìƒì„± Spring JDBC ì‹œì‘ ë° ë°ì´í„° ì‚½ì…/ì‚­ì œ/ì¿¼ë¦¬ ì‹¤ìŠµ JPA ì‹¤ìŠµ ì§§ì€ ì‹œê°„ ë™ì•ˆ ì—¬ëŸ¬ ì£¼ì œë¥¼ ë‹¤ë£¨ê² ì§€ë§Œ, ê° ë‹¨ê³„ë³„ë¡œ í•µì‹¬ë§Œ ì •ë¦¬í•´ë³´ëŠ” ê²ƒì´ ì˜¤ëŠ˜ì˜ ëª©í‘œì…ë‹ˆë‹¤.\ní•˜ê³„ ëª¨ê°ì½” 01 - ê²°ê³¼ 1. Mavenì„ ì´ìš©í•œ ë¹Œë“œì™€ ì‹¤í–‰ Maven ëª…ë ¹ì–´ í™œìš©ë²• mvn clean : ê¸°ì¡´ ë¹Œë“œ ì‚°ì¶œë¬¼(í´ë˜ìŠ¤, jar ë“±)ì„ ì‚­ì œ mvn install : ì»´íŒŒì¼ â†’ í…ŒìŠ¤íŠ¸ â†’ íŒ¨í‚¤ì§• â†’ ë¡œì»¬ Maven ì €ì¥ì†Œì— ë°°í¬ Spring Boot ì‹¤í–‰ ë¹Œë“œëœ .jar íŒŒì¼ì„ ì»¤ë§¨ë“œë¼ì¸ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥ 1 java -jar target/myapp.jar 2. Spring Boot Actuatorë¥¼ í†µí•œ ëª¨ë‹ˆí„°ë§ Spring Boot ActuatorëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ ìƒíƒœ, ë©”íŠ¸ë¦­, í—¬ìŠ¤ ì²´í¬ ë“± ë‹¤ì–‘í•œ ëª¨ë‹ˆí„°ë§ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸ ì˜ˆì‹œ /actuator/health : ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸ /actuator/metrics : ë©”íŠ¸ë¦­ ì •ë³´ ì œê³µ ë³´ì•ˆ ì„¤ì • í•„ìˆ˜ (ë¯¼ê° ì •ë³´ ë…¸ì¶œ ë°©ì§€) actuator ì—”ë“œí¬ì¸íŠ¸ ë…¸ì¶œ ì„¤ì • (ê¸°ë³¸ì€ ì œí•œì ì„) 1 management.endpoints.web.exposure.include=health,metrics,info 3. DB ì—°ë™ ë° SQL í™œìš© ë©”ëª¨ë¦¬ ê¸°ë°˜ DB ì‚¬ìš© H2 ê°™ì€ ì¸ë©”ëª¨ë¦¬ DBë¡œ ë¹ ë¥¸ ê°œë°œê³¼ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥, ê°•ì˜ì˜ìƒì—ëŠ” H2 SQLì„ ì‚¬ìš©í•´ì„œ, ì‹¤ìŠµí•˜ì˜€ë‹¤. JDBC vs Spring JDBC vs JPA ë¹„êµ êµ¬ë¶„ íŠ¹ì§• JDBC ìˆœìˆ˜ ìë°” DB ì—°ë™, SQL ì§ì ‘ ì‘ì„±, ë²ˆê±°ë¡œì›€ Spring JDBC JDBC API ë˜í•‘, ì˜ˆì™¸ ë³€í™˜ ë° í¸ì˜ ë©”ì„œë“œ ì œê³µ, SQL ì§ì ‘ ì‘ì„±í•´ì•¼í•œë‹¤ã…“ JPA ê°ì²´ì™€ í…Œì´ë¸” ë§¤í•‘, ORM ì œê³µ, ë³µì¡í•œ DB ì‘ì—… ê°„ê²°í™” 4. Spring Data JPA ê¸°ë³¸ ì‚¬ìš©ë²• JpaRepository ì¸í„°í˜ì´ìŠ¤ ìƒì†ë§Œìœ¼ë¡œ CRUD ìë™ êµ¬í˜„í•´ì¤€ë‹¤.\nSpring Bootê°€ ëŸ°íƒ€ì„ ì‹œì ì— ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì²´(í”„ë¡ì‹œ)ë¥¼ ìƒì„±í•˜ì—¬ Beanìœ¼ë¡œ ë“±ë¡\në©”ì„œë“œ ì´ë¦„ë§Œìœ¼ë¡œ ì¿¼ë¦¬ ìë™ ìƒì„± ê°€ëŠ¥\nì˜ˆ) findByName, findByCreatedAtAfter ë“±\nì§ì ‘ ì¿¼ë¦¬ë¥¼ ì‘ì„±í•˜ê³  ì‹¶ìœ¼ë©´ @Query ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.\n1 2 3 4 5 6 7 8 9 10 public interface CourseRepository extends JpaRepository\u0026lt;Course, Long\u0026gt; { // JPQL ì§ì ‘ ì‘ì„± @Query(\u0026#34;SELECT c FROM Course c WHERE c.name = :name\u0026#34;) List\u0026lt;Course\u0026gt; findByNameCustom(@Param(\u0026#34;name\u0026#34;) String name); // ë„¤ì´í‹°ë¸Œ ì¿¼ë¦¬ ì‚¬ìš© (nativeQuery=true) @Query(value = \u0026#34;SELECT * FROM course WHERE created_at \u0026gt; :date\u0026#34;, nativeQuery = true) List\u0026lt;Course\u0026gt; findRecentCoursesNative(@Param(\u0026#34;date\u0026#34;) LocalDate date); } 5. ë³µì¡í•œ ë¡œì§ í™•ì¥ ë°©ë²• 5.1 Custom Repository êµ¬í˜„ ë³µì¡í•œ ì¿¼ë¦¬ë‚˜ ë™ì  ì¿¼ë¦¬ ì‘ì„± ì‹œ ë³„ë„ì˜ ì»¤ìŠ¤í…€ ì¸í„°í˜ì´ìŠ¤ì™€ êµ¬í˜„ì²´ ì‘ì„± í•„ìš” ì˜ˆì‹œ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 public interface CourseCustomRepository { List\u0026lt;Course\u0026gt; findRecentCourses(); } @Repository public class CourseCustomRepositoryImpl implements CourseCustomRepository { @PersistenceContext private EntityManager em; public List\u0026lt;Course\u0026gt; findRecentCourses() { // JPQL ì§ì ‘ ì‘ì„± return em.createQuery(\u0026#34;SELECT c FROM Course c WHERE c.createdAt \u0026gt; :date\u0026#34;, Course.class) .setParameter(\u0026#34;date\u0026#34;, LocalDate.now().minusDays(7)) .getResultList(); } } public interface CourseRepository extends JpaRepository\u0026lt;Course, Long\u0026gt;, CourseCustomRepository { } 6. EntityManagerì™€ @PersistenceContext EntityManagerëŠ” JPAì˜ í•µì‹¬ìœ¼ë¡œ,\nì˜ì†ì„± ì»¨í…ìŠ¤íŠ¸(1ì°¨ ìºì‹œ)ì™€ íŠ¸ëœì­ì…˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ”\nìƒíƒœê°€ ìˆëŠ” ê°ì²´ì…ë‹ˆë‹¤.\n@PersistenceContextë¥¼ ì‚¬ìš©í•´ ì£¼ì…í•˜ë©°,\në‚´ë¶€ì ìœ¼ë¡œëŠ” íŠ¸ëœì­ì…˜ë§ˆë‹¤ ë³„ë„ì˜ EntityManager ì¸ìŠ¤í„´ìŠ¤ë¥¼\ní”„ë¡ì‹œë¥¼ í†µí•´ íŠ¸ëœì­ì…˜ ì»¨í…ìŠ¤íŠ¸ì— ë§ê²Œ ì—°ê²°í•´ì¤ë‹ˆë‹¤.\nì§ì ‘ ì‹±ê¸€í†¤ Beanìœ¼ë¡œ ì“°ë©´ ìƒíƒœ ê³µìœ ë¡œ ì¸í•œ\në™ì‹œì„± ë¬¸ì œì™€ ìƒíƒœ ê¼¬ì„ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë‹ˆ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.\në”°ë¼ì„œ, @AutoWiredë¥¼ ì‚¬ìš©í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.\n7. Hibernateì™€ JPA JPAëŠ” Java ORMì˜ í‘œì¤€ ì¸í„°í˜ì´ìŠ¤(ìŠ¤í™)ì…ë‹ˆë‹¤.\nHibernateëŠ” JPA ìŠ¤í™ì„ êµ¬í˜„í•œ\nê°€ì¥ ë„ë¦¬ ì“°ì´ëŠ” ORM êµ¬í˜„ì²´(ë¼ì´ë¸ŒëŸ¬ë¦¬)ì…ë‹ˆë‹¤.\nSpring BootëŠ” ê¸°ë³¸ì ìœ¼ë¡œ Hibernateë¥¼\nJPA êµ¬í˜„ì²´ë¡œ ì‚¬ìš©í•˜ì—¬ ORM ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.\nê°•ì˜ ì™¸ ì¶”ê°€ì ì¸ ê³µë¶€ : ë‹¤ì¤‘ ë°ì´í„°ì†ŒìŠ¤ ê´€ë¦¬ í•˜ë‚˜ì˜ Spring Boot ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì—¬ëŸ¬ ê°œì˜ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ê³ ,\nê° ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°ëœ JPA Repositoryë¥¼ ë¶„ë¦¬í•˜ê³  ì‹¶ì„ ë•Œ,\në©€í‹° ë°ì´í„°ì†ŒìŠ¤ ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤.\n1. ë©€í‹° ë°ì´í„°ì†ŒìŠ¤ ì„¤ì • ê°œìš” ê° ë°ì´í„°ë² ì´ìŠ¤ë³„ë¡œ DataSource ë¹ˆì„ ìƒì„± ê°ê°ì— ë§ëŠ” EntityManagerFactory ë¹ˆ ìƒì„± TransactionManagerë„ ë°ì´í„°ì†ŒìŠ¤ë³„ë¡œ ë¶„ë¦¬ @EnableJpaRepositoriesë¥¼ ì´ìš©í•´ Repository íŒ¨í‚¤ì§€ë³„ë¡œ ì—°ê²° ë¶„ë¦¬ 2. ê°ê°ì˜ DB ì„¤ì • (PrimaryDataSourceConfig.java) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 @Configuration // ì´ í´ë˜ìŠ¤ëŠ” Spring ì„¤ì • í´ë˜ìŠ¤ì„ì„ ë‚˜íƒ€ëƒ„ @EnableTransactionManagement // @Transactional ì• ë…¸í…Œì´ì…˜ ê¸°ë°˜ì˜ íŠ¸ëœì­ì…˜ ê¸°ëŠ¥ì„ í™œì„±í™”í•¨ @EnableJpaRepositories( basePackages = \u0026#34;com.example.primaryRepo\u0026#34;, // ì´ ê²½ë¡œ í•˜ìœ„ì— ìˆëŠ” Repository ì¸í„°í˜ì´ìŠ¤ë“¤ì´ ì´ ë°ì´í„°ì†ŒìŠ¤ë¥¼ ì‚¬ìš©í•˜ë„ë¡ ì„¤ì • entityManagerFactoryRef = \u0026#34;primaryEntityManagerFactory\u0026#34;, // ì‚¬ìš©í•  EntityManagerFactory Bean ì´ë¦„ transactionManagerRef = \u0026#34;primaryTransactionManager\u0026#34; // ì‚¬ìš©í•  íŠ¸ëœì­ì…˜ ë§¤ë‹ˆì € Bean ì´ë¦„ ) public class PrimaryDataSourceConfig { /** * primaryDataSource: ì²« ë²ˆì§¸ ë°ì´í„°ë² ì´ìŠ¤ì™€ ì—°ê²°í•  DataSourceë¥¼ ìƒì„±. * application.properties íŒŒì¼ì—ì„œ \u0026#39;spring.datasource.primary\u0026#39; ì ‘ë‘ì–´ë¡œ ì‹œì‘í•˜ëŠ” ì„¤ì •ì„ ì½ì–´ë“¤ì„. * ì˜ˆ: spring.datasource.primary.url, username, password, driver-class-name ë“± */ @Bean @Primary // ì—¬ëŸ¬ DataSource ì¤‘ ê¸°ë³¸(ìš°ì„ ìˆœìœ„)ìœ¼ë¡œ ì‚¬ìš©ë¨ @ConfigurationProperties(prefix = \u0026#34;spring.datasource.primary\u0026#34;) public DataSource primaryDataSource() { return DataSourceBuilder.create().build(); } /** * primaryEntityManagerFactory: JPAì—ì„œ ì‚¬ìš©í•  EntityManagerFactoryë¥¼ ìƒì„±. * - ì´ íŒ©í† ë¦¬ëŠ” í•´ë‹¹ DataSourceë¡œ DB ì—°ê²°ì„ ìˆ˜í–‰í•˜ë©°, * - ì§€ì •í•œ Entity í´ë˜ìŠ¤ë“¤ì´ ì–´ë–¤ DBì™€ ì—°ë™ë ì§€ ê²°ì •í•œë‹¤. * - \u0026#39;packages()\u0026#39;ì— ëª…ì‹œëœ ê²½ë¡œ í•˜ìœ„ì˜ Entity í´ë˜ìŠ¤ë“¤ì„ ìŠ¤ìº”í•œë‹¤. * - persistenceUnit ì´ë¦„ì€ êµ¬ë¶„ìš©ì´ë¯€ë¡œ ì„ì˜ë¡œ ì„¤ì • ê°€ëŠ¥í•¨. */ @Bean @Primary public LocalContainerEntityManagerFactoryBean primaryEntityManagerFactory( EntityManagerFactoryBuilder builder) { return builder .dataSource(primaryDataSource()) // ìœ„ì—ì„œ ë§Œë“  DataSource ì‚¬ìš© .packages(\u0026#34;com.example.primaryentity\u0026#34;) // JPA Entity í´ë˜ìŠ¤ê°€ ìœ„ì¹˜í•œ íŒ¨í‚¤ì§€ .persistenceUnit(\u0026#34;primary\u0026#34;) // persistence-unit ì´ë¦„ (JPA ì„¤ì •ì˜ ë…¼ë¦¬ì  ì´ë¦„) .build(); } /** * primaryTransactionManager: í•´ë‹¹ EntityManagerFactoryë¥¼ ì‚¬ìš©í•˜ëŠ” íŠ¸ëœì­ì…˜ ê´€ë¦¬ì ìƒì„±. * - @Transactional ë™ì‘ ì‹œ, ì´ íŠ¸ëœì­ì…˜ ë§¤ë‹ˆì €ê°€ ì‚¬ìš©ë¨. * - í•˜ë‚˜ì˜ ë°ì´í„°ì†ŒìŠ¤ì— í•˜ë‚˜ì˜ íŠ¸ëœì­ì…˜ ë§¤ë‹ˆì €ê°€ ëŒ€ì‘ë˜ì–´ì•¼ í•¨. */ @Bean @Primary public PlatformTransactionManager primaryTransactionManager( @Qualifier(\u0026#34;primaryEntityManagerFactory\u0026#34;) EntityManagerFactory emf) { return new JpaTransactionManager(emf); // í•´ë‹¹ EntityManagerFactoryì— ëŒ€í•œ íŠ¸ëœì­ì…˜ ê´€ë¦¬ } } ê¶ê¸ˆí•´ì„œ ë”°ë¡œ ì•Œì•„ë³¸ ë‚´ìš©ì´ë©°, ì‹¤ì œë¡œ ë°ì´í„° ì†ŒìŠ¤ë¥¼ ì—¬ëŸ¬êµ°ëŒ€ì—ì„œ ê°€ì ¸ì™€, í™œìš©í•˜ëŠ” ë°©ì‹ì€ ë³´ì•ˆìƒì— ì¢‹ì„ ìˆœ ìˆì§€ë§Œ, ë³µì¡ì„±ì„ ìœ ë°œí•˜ëŠ” ê²ƒ ê°™ì•„ì„œ, ì•Œì•„ë§Œ ë‘ì.\n","date":"2025-07-14T20:45:00+09:00","image":"https://hy3ons.github.io/MoGakCo/p/2025-01-mogakco-1/cover_hu_ae58cfd9ceaaf6cf.png","permalink":"https://hy3ons.github.io/MoGakCo/p/2025-01-mogakco-1/","title":"í•˜ê³„ ëª¨ê°ì½” 01"},{"content":"ì•ˆë…•í•˜ì„¸ìš”, í™©í˜„ì„ì…ë‹ˆë‹¤! ğŸ¥ ë°˜ê°‘ìŠµë‹ˆë‹¤! ì´ê³³ì€ ëª¨ê°ì½”ë¥¼ ì§„í–‰í•˜ë©° ì œ í•™ìŠµ ê³¼ì •ê³¼ ì„±ì¥ì„ ê¸°ë¡í•˜ëŠ” ê°œì¸ ë¸”ë¡œê·¸ì…ë‹ˆë‹¤.\nì™œ ì´ ë¸”ë¡œê·¸ë¥¼ ë§Œë“¤ì—ˆì„ê¹Œìš”? ê¸°ì¡´ì— ìš´ì˜í•˜ëŠ” ë¸”ë¡œê·¸ í•˜ë‚˜ëŠ” ì•Œê³ ë¦¬ì¦˜ ì¤‘ì‹¬ì˜ ë¬¸ì œí’€ì´ ë¸”ë¡œê·¸ í•˜ë‚˜ë§Œ ìš´ì˜í•˜ê³  ìˆì—ˆìŠµë‹ˆë‹¤.\ní•˜ì§€ë§Œ ëª¨ê°ì½”ì—ì„œëŠ” ë‹¨ìˆœí•œ ì•Œê³ ë¦¬ì¦˜ í’€ì´ë¥¼ ë„˜ì–´, ë‹¤ì–‘í•œ ê¸°ìˆ  ìŠ¤íƒì„ ë°°ìš°ê³ , ê°œë°œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©°, íŒ€ì›ë“¤ê³¼ í˜‘ì—…í•˜ëŠ” ë“± í›¨ì”¬ ë” í­ë„“ì€ í™œë™ì´ ì´ë£¨ì–´ì§‘ë‹ˆë‹¤.\nê·¸ëŸ° í™œë™ë“¤ì„ ê¸°ì¡´ ë¸”ë¡œê·¸ì— í˜¼í•©í•´ ê¸°ë¡í•˜ê¸°ë³´ë‹¤ëŠ”, ê°ê°ì˜ ëª¨ê°ì½” í™œë™ì— ì§‘ì¤‘ëœ ë³„ë„ì˜ ê³µê°„ì´ í•„ìš”í•˜ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ ì´ ë¸”ë¡œê·¸ë¥¼ ìƒˆë¡­ê²Œ ê°œì„¤í•˜ê²Œ ë˜ì—ˆê³ , ì•ìœ¼ë¡œ ì´ê³³ì„ í†µí•´ ë§¤ì¼ì˜ í•™ìŠµ ê¸°ë¡, í”„ë¡œì íŠ¸ ê°œë°œ ì¼ì§€, ê·¸ë¦¬ê³  ê¹¨ë‹¬ì€ ì ë“¤ì„ ì •ë¦¬í•˜ë©° ê¾¸ì¤€íˆ ì„±ì¥í•´ ë‚˜ê°€ê³ ì í•©ë‹ˆë‹¤.\nì €ëŠ” ì–´ë–¤ ê²ƒì— ê´€ì‹¬ì´ ìˆì„ê¹Œìš”? ì €ëŠ” ì‹¤ì œ ì‚¬ìš©ìì—ê²Œ í¸ì˜ë¥¼ ì œê³µí•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ë‚˜ ì„œë¹„ìŠ¤ë¥¼ ì§ì ‘ ë§Œë“¤ì–´ë‚´ëŠ” ê²ƒì— ê´€ì‹¬ì´ ìˆìŠµë‹ˆë‹¤. ì›¹í˜ì´ì§€ë¥¼ ì§ì ‘ êµ¬í˜„í•˜ê³ , ë°±ì—”ë“œì—ì„œ ë°ì´í„°ë¥¼ ì²˜ë¦¬í•˜ê±°ë‚˜ ì›¹í›…/ì´ë©”ì¼ ë“± ë‹¤ì–‘í•œ ì±„ë„ë¡œ ì •ë³´ë¥¼ ì „ë‹¬í•˜ëŠ” ì‹œìŠ¤í…œì„ êµ¬ì¶•í•˜ëŠ” ê³¼ì •ì— í¥ë¯¸ê°€ ìˆìŠµë‹ˆë‹¤.\në˜í•œ, ë¨¸ì‹ ëŸ¬ë‹ê³¼ ë”¥ëŸ¬ë‹ì—ë„ ê¹Šì€ ê´€ì‹¬ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. í˜„ì¬ëŠ” Kaggle ë¬¸ì œë¥¼ í’€ë©° ì‹¤ì „ ê°ê°ì„ í‚¤ìš°ëŠ” ì¤‘ì´ë©°, ì´í›„ì—ëŠ” ë…¼ë¬¸ ê¸°ë°˜ì˜ ì‹¬í™” í•™ìŠµì„ í†µí•´ ë” ê¹Šì€ ìˆ˜ì¤€ì˜ ì—°êµ¬ì™€ ê°œë°œë¡œ ë‚˜ì•„ê°€ê³ ì í•©ë‹ˆë‹¤.\nì´ë¯¸ ê°œì¸ì ìœ¼ë¡œëŠ” ë”¥ëŸ¬ë‹ì˜ í•µì‹¬ì¸ ì—­ì „íŒŒ ì•Œê³ ë¦¬ì¦˜ì„ numpyë§Œìœ¼ë¡œ ì§ì ‘ êµ¬í˜„í•´ ë³¸ ê²½í—˜ì´ ìˆìœ¼ë©°, ì»¤ìŠ¤í…€ ì˜µí‹°ë§ˆì´ì €ì™€ í•™ìŠµ ë£¨í”„ë„ ëª¨ë“ˆí™”í•˜ì—¬ ì œì‘í•œ ì ì´ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ, ë‹¨ìˆœí•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ì„ ë„˜ì–´, ë‚´ë¶€ ì›ë¦¬ì— ëŒ€í•œ ì´í•´ì™€ êµ¬í˜„ ëŠ¥ë ¥ì„ í•¨ê»˜ í‚¤ì›Œê°€ëŠ” ê²ƒì„ ì§€í–¥í•˜ê³  ìˆìŠµë‹ˆë‹¤.\n","date":"2025-06-21T16:05:00+09:00","image":"https://hy3ons.github.io/MoGakCo/p/hello-mogakco-2025/cover_hu_e95a4276bf860a84.jpg","permalink":"https://hy3ons.github.io/MoGakCo/p/hello-mogakco-2025/","title":"2025 í•˜ê³„ ëª¨ê°ì½” ë¸”ë¡œê·¸ë¥¼ ì‹œì‘í•˜ë©°"}]